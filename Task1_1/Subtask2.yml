input: '||||*||'
blank: ' '
start state: q1
table:
    # Берем первую |
    q1:
      '|': {write: ' ', R: q2}
      '*': {write: ' ', R: q11}
      
    # Пропускаем все | до *
    q2:
      '|': {R: q2}
      '*': {R: q3}
      
    # Пропускаем все до пустоты и записываем * в первый раз
    q3:
      '|': {R: q3}
      '*': {L: q4}
      ' ': {write: '*', L: q4}
      
    # Пропускаем все до второй * 
    q4:
      '|': {L: q4}
      '*': {R: q5}
    
    # Копирует |, если * - значит все скопировано
    q5:
      '|': {write: ' ', R: q6}
      '*': {L: q9}
    
    # Пропускаем все | до * (вправо)  
    q6:
      '|': {R: q6}
      '*': {R: q7}
      
    # Пишем | в первую пустую ячейку
    q7:
      '|': {R: q7}
      ' ': {write: '|', L: q8}
    
    # Возвращается до пустой ячейки и возвращает |
    q8:
      '|': {L: q8}
      '*': {L: q8}
      ' ': {write: '|', R: q5}
    
    # Пропускает вторую | (влево)
    q9:
      '|': {L: q9}
      '*': {L: q10}
    
    # Пропускает первую | (влево)
    # if meets empty cell, repeats loop
    q10:
      '|': {L: q10}
      ' ': {R: q1}
    
    # Очистка всего до результата и остановка
    q11:
      '|': {write: ' ', R: q11}
      '*': {write: ' ', R: done}
      ' ': {L: done}
    
    done: